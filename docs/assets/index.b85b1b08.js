(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const g of r.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const h=document.createElement("canvas"),i=50,d=8,m=14;h.width=d*i;h.height=m*i;document.body.appendChild(h);const s=h.getContext("2d");function x(e,t,n,c){s.strokeStyle="gray",s.beginPath(),s.moveTo(e,t),s.lineTo(n,c),s.stroke()}for(let e=1;e<d;e+=1)x(e*i,0,e*i,m*i);for(let e=1;e<m;e+=1)x(0,e*i,d*i,e*i);let y=[[[0,0,0,0],[1,1,1,1]],[[1,1,0,0],[1,1,0,0]],[[1,1,0,0],[0,1,1,0]],[[1,1,1,0],[0,0,1,0]],[[0,1,0,0],[1,1,1,0]],[[1,0,0,0],[1,1,1,0]],[[0,1,1,0],[1,1,0,0]]];y=y.map(e=>[...e,[0,0,0,0],[0,0,0,0]]);let l=y[0],a={x:0,y:-1};function u(){return l.map((e,t)=>e.map((n,c)=>n?[{x:a.x+c,y:a.y+t}]:[])).flat(2)}const f=Array.from({length:m},()=>Array.from({length:d},()=>0));function A(e){e.map(t=>f[t.y][t.x]=1)}function w(e){e.map(t=>f[t.y][t.x]=0)}function v(e){return e.every(t=>t.y<m&&t.x>=0&&t.x<d&&t.y>=0&&!f[t.y][t.x])}function k(){const e=u();f.map((t,n)=>t.map((c,o)=>{s.fillStyle=c?"blue":e.every(r=>r.x!==o||r.y!==n)?"white":"red",s.fillRect(o*i+1,n*i+1,i-2,i-2)}))}function L(){p(0,1)||(A(u()),a={x:0,y:0},l=y[Math.floor(Math.random()*y.length)],v(u())||(clearInterval(b),alert("Game Over")),console.log(l));for(let e=0;e<f.length;e+=1)f[e].every(t=>t===1)&&(f.splice(e,1),f.unshift(Array.from({length:d},()=>0)));k()}function p(e,t){w(u()),a.y+=t,a.x+=e;let n=v(u());return n||(a.y-=t,a.x-=e),n}const b=setInterval(L,400);function O(){const e=l;w(u()),l=l[0].map((t,n)=>l.map(c=>c[n])).reverse(),v(u())||(l=e)}document.addEventListener("keydown",e=>{e.key==="ArrowRight"&&p(1,0),e.key==="ArrowLeft"&&p(-1,0),e.key==="ArrowDown"&&p(0,1),(e.key===" "||e.key==="ArrowUp")&&O(),k()});
